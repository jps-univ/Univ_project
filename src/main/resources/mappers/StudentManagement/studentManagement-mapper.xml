<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="StudentManagementMapper">
	<resultMap id="StudentManagementResultSet" type="StudentManagement">
 		<id property="stdId" column="STUDENT_ID"/>
 		<result property="className" column="CLASS_NAME"/>
 		<result property="classId" column="CLASS_ID"/>
 		<result property="classType" column="CLASS_TYPE"/>
 		<result property="classTime" column="CLASS_TIME"/>
 		<result property="stdName" column="STUDENT_NAME"/>
 		<result property="stdDepartment" column="DEPARTMENT"/>
 		<result property="stdSemester" column="SEMESTER"/>
 		<result property="stdTel" column="PHONE"/>
 		<result property="stdEmail" column="EMAIL"/>
 		<result property="roomNo" column="ROOM_NO"/>
 	</resultMap>
 	
	<resultMap id="GradeResultSet" type="Grade">
 		<id property="gradeNo" column="GRADE_NO"/>
 		<result property="studentId" column="STUDENT_ID"/>
 		<result property="professorId" column="PROFESSOR_ID"/>
 		<result property="classNo" column="CLASS_NO"/>
 		<result property="gradePoint" column="GRADE_POINT"/>
 		<result property="classSemester" column="CLASS_SEMESTER"/>
 		<result property="classYear" column="CLASS_YEAR"/>
 	</resultMap>

	<!-- 수강생 조회 매퍼  -->
	<select id="selectList" resultMap="StudentManagementResultSet">
		SELECT
			CLASS_NAME,
			CLASS_ID,
			CLASS_TYPE,
			ROOM_NO
		FROM
			TB_CLASS
	</select>
	
	<!-- 수강생 상세조회 매퍼 -->
	<select id="selectdDetailList" resultMap="StudentManagementResultSet">
		SELECT
		    CLASS_ID,
		    CLASS_NAME,
		    STUDENT_NAME,
		    STUDENT_ID,
		    DEPARTMENT,
		    SEMESTER,
		    PHONE,
		    EMAIL
		FROM
		    TB_STUDENT
    	JOIN TB_CLASS ON(SEMESTER = CLASS_SEMESTER)
	</select>
	
	<!--  성적관리 조회 -->
	<select id="gradeView" resultMap="StudentManagementResultSet">
		SELECT
			STUDENT_ID
		FROM
			TB_STUDENT
	</select>
	
	<insert id="gradeInsert" parameterType="Grade">
		INSERT INTO TB_GRADE
		VALUES(
			#{classNo},#{professorId},#{classSemester},#{classYear},#{studentId},#{gradePoint},#{gradeNo})
	</insert>
</mapper>